[gd_scene load_steps=16 format=3 uid="uid://tdtp0oc5bsrd"]

[ext_resource type="Script" uid="uid://ij3pjjjn8x2s" path="res://scripts/game_manager.gd" id="1_u5sy4"]
[ext_resource type="PackedScene" uid="uid://dcscdnjmhkjhd" path="res://prefabs/pause_menu.tscn" id="1_uwrxv"]
[ext_resource type="Shader" uid="uid://di2fu5f7ieiaf" path="res://Outline.gdshader" id="2_yqjtg"]
[ext_resource type="Script" uid="uid://3svy5ltsisk1" path="res://scripts/game_audio.gd" id="3_lbhrr"]
[ext_resource type="AudioStream" uid="uid://bvhk1v0hl1wpw" path="res://sound/music/game_music.ogg" id="3_lnu2h"]
[ext_resource type="Script" uid="uid://bwf3rf0ls3tpm" path="res://scripts/dialogue.gd" id="4_p57ef"]
[ext_resource type="AudioStream" uid="uid://cxmw1jh5hyb5d" path="res://sound/voice/test.ogg" id="5_p57ef"]

[sub_resource type="Environment" id="Environment_uwrxv"]

[sub_resource type="SphereMesh" id="SphereMesh_uwrxv"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lnu2h"]
render_priority = 0
shader = ExtResource("2_yqjtg")
shader_parameter/outline_color = Color(0, 0, 0, 1)
shader_parameter/outline_width = 2.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lbhrr"]
next_pass = SubResource("ShaderMaterial_lnu2h")
diffuse_mode = 3
specular_mode = 1
roughness = 0.0

[sub_resource type="Animation" id="Animation_lnu2h"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MeshInstance3D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.4429767, 0, -1.4205816)]
}

[sub_resource type="Animation" id="Animation_yqjtg"]
resource_name = "test"
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MeshInstance3D:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0.3756324, 0, -1.4205816), Vector3(-0.18182027, 0, -1.4205816)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lbhrr"]
_data = {
&"RESET": SubResource("Animation_lnu2h"),
&"test": SubResource("Animation_yqjtg")
}

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_u5sy4"]
bg_color = Color(0, 0, 0, 1)

[node name="Game" type="Node3D"]
script = ExtResource("1_u5sy4")

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.1860516, 2.9590564, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.22168593, 0.9750525, 0.0113135725, -0.6871444, 0.14797461, 0.71129173, 0.6918727, -0.16545743, 0.7028058, -1.729454, 2.0834537, 0.6105361)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_uwrxv")

[node name="Camera3D" type="Camera3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.4429767, 0, -1.4205816)
mesh = SubResource("SphereMesh_uwrxv")
surface_material_override/0 = SubResource("StandardMaterial3D_lbhrr")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_lbhrr")
}
autoplay = "test"

[node name="Audio" type="Node2D" parent="."]
script = ExtResource("3_lbhrr")

[node name="MusicAudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Audio"]
stream = ExtResource("3_lnu2h")
autoplay = true

[node name="UI" type="CanvasLayer" parent="."]
script = ExtResource("4_p57ef")

[node name="PauseMenu" parent="UI" instance=ExtResource("1_uwrxv")]

[node name="subtitle" type="RichTextLabel" parent="UI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -920.0
offset_top = -180.0
offset_right = 920.0
grow_horizontal = 2
grow_vertical = 0
size_flags_vertical = 8
theme_override_font_sizes/normal_font_size = 36
theme_override_styles/background = SubResource("StyleBoxFlat_u5sy4")
text = "heyheyheyheyheyheyheyheyhey"
horizontal_alignment = 1
vertical_alignment = 1

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="UI"]
stream = ExtResource("5_p57ef")
autoplay = true

[connection signal="ready" from="Audio" to="Audio" method="_on_ready"]
